[{"/Users/landonwhitesides/Desktop/DPL_WINTER_2020/final_project/fire_jacked/client/src/exercises/Exercise.js":"1","/Users/landonwhitesides/Desktop/DPL_WINTER_2020/final_project/fire_jacked/client/src/reportWebVitals.js":"2","/Users/landonwhitesides/Desktop/DPL_WINTER_2020/final_project/fire_jacked/client/src/components/Levels.js":"3","/Users/landonwhitesides/Desktop/DPL_WINTER_2020/final_project/fire_jacked/client/src/user/UserDash.js":"4","/Users/landonwhitesides/Desktop/DPL_WINTER_2020/final_project/fire_jacked/client/src/admin/AdminRegister.js":"5","/Users/landonwhitesides/Desktop/DPL_WINTER_2020/final_project/fire_jacked/client/src/exercises/AllExcercises.js":"6","/Users/landonwhitesides/Desktop/DPL_WINTER_2020/final_project/fire_jacked/client/src/components/NoMatch.js":"7","/Users/landonwhitesides/Desktop/DPL_WINTER_2020/final_project/fire_jacked/client/src/components/Styles.js":"8","/Users/landonwhitesides/Desktop/DPL_WINTER_2020/final_project/fire_jacked/client/src/exercises/Exercises.js":"9"},{"size":3395,"mtime":1612309592827,"results":"10","hashOfConfig":"11"},{"size":362,"mtime":1611943130949,"results":"12","hashOfConfig":"11"},{"size":1947,"mtime":1611943130944,"results":"13","hashOfConfig":"11"},{"size":2951,"mtime":1611943130951,"results":"14","hashOfConfig":"11"},{"size":2646,"mtime":1612246452953,"results":"15","hashOfConfig":"11"},{"size":4013,"mtime":1612294705775,"results":"16","hashOfConfig":"11"},{"size":115,"mtime":1611943130944,"results":"17","hashOfConfig":"11"},{"size":2956,"mtime":1612310840780,"results":"18","hashOfConfig":"11"},{"size":5283,"mtime":1612309698836,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"1fotdmr",{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"24","messages":"25","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"26","messages":"27","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"28","messages":"29","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"30","messages":"31","errorCount":0,"warningCount":18,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"32","messages":"33","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38"},"/Users/landonwhitesides/Desktop/DPL_WINTER_2020/final_project/fire_jacked/client/src/exercises/Exercise.js",["39","40","41"],"/Users/landonwhitesides/Desktop/DPL_WINTER_2020/final_project/fire_jacked/client/src/reportWebVitals.js",[],"/Users/landonwhitesides/Desktop/DPL_WINTER_2020/final_project/fire_jacked/client/src/components/Levels.js",["42"],"/Users/landonwhitesides/Desktop/DPL_WINTER_2020/final_project/fire_jacked/client/src/user/UserDash.js",["43"],"/Users/landonwhitesides/Desktop/DPL_WINTER_2020/final_project/fire_jacked/client/src/admin/AdminRegister.js",["44"],"/Users/landonwhitesides/Desktop/DPL_WINTER_2020/final_project/fire_jacked/client/src/exercises/AllExcercises.js",["45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62"],"/Users/landonwhitesides/Desktop/DPL_WINTER_2020/final_project/fire_jacked/client/src/components/NoMatch.js",["63"],"/Users/landonwhitesides/Desktop/DPL_WINTER_2020/final_project/fire_jacked/client/src/components/Styles.js",[],"/Users/landonwhitesides/Desktop/DPL_WINTER_2020/final_project/fire_jacked/client/src/exercises/Exercises.js",["64","65","66"],"import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Exercise from './Exercise';\nimport ExerciseForm from './ExerciseForm';\nimport { Button, Modal, Form } from \"react-bootstrap\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport styled from 'styled-components'\nimport { BoxAdminExercises } from \"../components/Styles\";\nimport FilterByCategory from \"./FilterByCategory\";\nimport GlobalLevels from \"../components/GlobalLevels\";\n\nconst Exercises = () => {\n  const [exercises, setExercises] = useState([]);\n  const [show, setShow] = useState(false);\n  const [page, setPage] = useState(1)\n  const [totalPages, setTotalPages] = useState(0)\n  const [dataLength, setDataLength] = useState(0)\n  const [searchText, setSearchText] = useState(\"\")\n  const [currentCategory, setCurrentCategory] = useState(\"\")\n\n  const handleShow = () => setShow(true);\n  const handleHide = () => setShow(false);\n\n  useEffect(() => {\n    getExercises();\n    getLevels()\n  }, []);\n\n  const getLevels = () => {\n    return console.log(GlobalLevels.map((x) => x.level_name))\n  }\n\n  const getExercises = async (searchText, currentCategory) => {\n    try {\n      let res = await axios.get(`/api/exercises/?SearchText=${searchText ? searchText : \"\"}&category=${currentCategory ? currentCategory : \"\"}`)\n      let exercisesX = normalizeData(res.data.data)\n      setExercises(exercisesX)\n      setTotalPages(res.data.total_pages)\n      setDataLength(res.data.total_length)\n    } catch (error) {\n      console.log(error)\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    setPage(1)\n    getExercises(searchText, currentCategory)\n  }\n\n  const handleClearSearch = () => {\n    setSearchText(\"\")\n    getExercises(\"\", currentCategory)\n  }\n\n  const loadMore = async () => {\n    const pageX = page + 1\n    console.log(pageX)\n    try {\n      let res = await axios.get(`/api/exercises?page=${pageX}&SearchText=${searchText ? searchText : \"\"}&category=${currentCategory ? currentCategory : \"\"}`)\n      let exercisesX = normalizeData(res.data.data)\n      setExercises([...exercises, ...exercisesX])\n      setPage(pageX)\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  const dataByCategory = (category) => {\n    if (exercises) {\n      setCurrentCategory(category)\n      getExercises(searchText, category)\n    }\n  }\n\n\n  const normalizeData = (arrayOfObjects) => {\n    let key = \"exercise_id\"\n\n    const exercises = [...new Map(arrayOfObjects.map(item => [item[key], { category: item.category, activity: item.activity, exercise_id: item.exercise_id }])).values()]\n\n    const formattedExercises = exercises.map((x) => {\n      return { ...x, levels: arrayOfObjects.filter(y => y.exercise_id === x.exercise_id) }\n    })\n\n    console.log(formattedExercises)\n\n    return formattedExercises\n\n  }\n\n  const renderExercisesWithLevels = () => {\n    return exercises.map(x => {\n      return (\n        <Exercise key={x.id} exerciseProp={x} deleteExercise={deleteExercise} editExercises={editExercises} {...x} />\n      )\n    })\n  }\n\n  const addExercise = (exercise) => {\n    setExercises([exercise, ...exercises])\n    console.log(exercise);\n  };\n\n  const deleteExercise = (id) => {\n    axios.delete(`/api/exercises/${id}`)\n      .then((res) => {\n        const newExercises = exercises.filter((exercise) => exercise.exercise_id !== id)\n        setExercises(newExercises)\n        console.log(res.data);\n      })\n      .catch((err) => {\n        console.log(\"Error in delete exercise\");\n        console.log(err)\n      })\n  }\n\n  const editExercises = (exercise) => {\n    let newExercises = exercises.map((e) => e.id !== exercise.id ? e : exercise)\n    setExercises(newExercises);\n  }\n\n\n\n  return (\n    <>\n      <h1>Exercises</h1>\n\n      <Button variant=\"primary\" onClick={handleShow}>\n        Add a new exercise\n      </Button>\n      <Modal show={show} onHide={handleHide}>\n        <Modal.Header closeButton>\n          <Modal.Title>Enter exercise info here</Modal.Title>\n        </Modal.Header>\n        <Modal.Body><ExerciseForm addExercise={addExercise} handleHide={handleHide} /></Modal.Body>\n      </Modal>\n\n      <Form onSubmit={handleSubmit}>\n        <Form.Label>Search for an Exercise</Form.Label>\n        <Form.Control\n          placeholder=\"Search Here\"\n          type=\"text\"\n          value={searchText}\n          onChange={(e) => setSearchText(e.target.value)} />\n        <Button type=\"submit\">Search</Button>\n        <Button onClick={handleClearSearch}>Clear Search</Button>\n      </Form>\n\n      <FilterByCategory dataByCategory={dataByCategory} />\n\n      <BoxAdminExercises>\n        <InfiniteScroll\n          dataLength={exercises.length}\n          next={() => loadMore()}\n          hasMore={exercises.length === dataLength ? false : true}\n          // loader={<h4>Loading... exercises.length = {exercises.length} dataLength= {dataLength} </h4>}\n          height={450}\n          // endMessage={\n          //   <p style={{ textAlign: \"center\" }}>\n          //     {/* <b>exercises.length = {exercises.length} dataLength= {dataLength}</b> */}\n          //   </p>\n          // }\n        >\n          {renderExercisesWithLevels()}\n        </InfiniteScroll>\n      </BoxAdminExercises>\n    </>\n  );\n};\n\n// <ExerciseForm addExercise={addExercise}/>\n\nexport default Exercises;\n\n",{"ruleId":"67","severity":1,"message":"68","line":6,"column":39,"nodeType":"69","messageId":"70","endLine":6,"endColumn":48},{"ruleId":"67","severity":1,"message":"71","line":7,"column":41,"nodeType":"69","messageId":"70","endLine":7,"endColumn":53},{"ruleId":"67","severity":1,"message":"72","line":10,"column":11,"nodeType":"69","messageId":"70","endLine":10,"endColumn":19},{"ruleId":"73","severity":1,"message":"74","line":24,"column":6,"nodeType":"75","endLine":24,"endColumn":8,"suggestions":"76"},{"ruleId":"77","severity":1,"message":"78","line":28,"column":15,"nodeType":"79","endLine":28,"endColumn":87},{"ruleId":"80","severity":1,"message":"81","line":6,"column":1,"nodeType":"82","endLine":82,"endColumn":3},{"ruleId":"67","severity":1,"message":"83","line":4,"column":8,"nodeType":"69","messageId":"70","endLine":4,"endColumn":22},{"ruleId":"67","severity":1,"message":"84","line":5,"column":8,"nodeType":"69","messageId":"70","endLine":5,"endColumn":14},{"ruleId":"67","severity":1,"message":"85","line":6,"column":10,"nodeType":"69","messageId":"70","endLine":6,"endColumn":13},{"ruleId":"67","severity":1,"message":"86","line":6,"column":15,"nodeType":"69","messageId":"70","endLine":6,"endColumn":24},{"ruleId":"67","severity":1,"message":"87","line":9,"column":10,"nodeType":"69","messageId":"70","endLine":9,"endColumn":16},{"ruleId":"67","severity":1,"message":"88","line":14,"column":10,"nodeType":"69","messageId":"70","endLine":14,"endColumn":14},{"ruleId":"67","severity":1,"message":"89","line":14,"column":16,"nodeType":"69","messageId":"70","endLine":14,"endColumn":23},{"ruleId":"67","severity":1,"message":"90","line":18,"column":10,"nodeType":"69","messageId":"70","endLine":18,"endColumn":25},{"ruleId":"67","severity":1,"message":"91","line":18,"column":27,"nodeType":"69","messageId":"70","endLine":18,"endColumn":45},{"ruleId":"67","severity":1,"message":"92","line":19,"column":10,"nodeType":"69","messageId":"70","endLine":19,"endColumn":18},{"ruleId":"73","severity":1,"message":"93","line":23,"column":5,"nodeType":"75","endLine":23,"endColumn":7,"suggestions":"94"},{"ruleId":"95","severity":1,"message":"96","line":49,"column":31,"nodeType":"97","messageId":"98","endLine":49,"endColumn":33},{"ruleId":"99","severity":1,"message":"100","line":51,"column":32,"nodeType":"101","messageId":"102","endLine":51,"endColumn":34},{"ruleId":"99","severity":1,"message":"103","line":55,"column":32,"nodeType":"101","messageId":"102","endLine":55,"endColumn":34},{"ruleId":"99","severity":1,"message":"100","line":55,"column":79,"nodeType":"101","messageId":"102","endLine":55,"endColumn":81},{"ruleId":"99","severity":1,"message":"103","line":59,"column":32,"nodeType":"101","messageId":"102","endLine":59,"endColumn":34},{"ruleId":"99","severity":1,"message":"100","line":59,"column":79,"nodeType":"101","messageId":"102","endLine":59,"endColumn":81},{"ruleId":"99","severity":1,"message":"103","line":63,"column":32,"nodeType":"101","messageId":"102","endLine":63,"endColumn":34},{"ruleId":"80","severity":1,"message":"81","line":1,"column":1,"nodeType":"82","endLine":7,"endColumn":3},{"ruleId":"67","severity":1,"message":"84","line":7,"column":8,"nodeType":"69","messageId":"70","endLine":7,"endColumn":14},{"ruleId":"67","severity":1,"message":"104","line":16,"column":10,"nodeType":"69","messageId":"70","endLine":16,"endColumn":20},{"ruleId":"73","severity":1,"message":"105","line":27,"column":6,"nodeType":"75","endLine":27,"endColumn":8,"suggestions":"106"},"no-unused-vars","'LevelsBox' is defined but never used.","Identifier","unusedVar","'MdUnfoldLess' is defined but never used.","'exercise' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getLevels'. Either include it or remove the dependency array.","ArrayExpression",["107"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","'InfiniteScroll' is defined but never used.","'styled' is defined but never used.","'Box' is defined but never used.","'BoxCustom' is defined but never used.","'Button' is defined but never used.","'page' is assigned a value but never used.","'setPage' is assigned a value but never used.","'currentCategory' is assigned a value but never used.","'setCurrentCategory' is assigned a value but never used.","'category' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'getAllExercises'. Either include it or remove the dependency array.",["108"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","Expected '===' and instead saw '=='.","'totalPages' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'getExercises'. Either include it or remove the dependency array.",["109"],{"desc":"110","fix":"111"},{"desc":"112","fix":"113"},{"desc":"114","fix":"115"},"Update the dependencies array to be: [getLevels]",{"range":"116","text":"117"},"Update the dependencies array to be: [getAllExercises]",{"range":"118","text":"119"},"Update the dependencies array to be: [getExercises]",{"range":"120","text":"121"},[574,576],"[getLevels]",[936,938],"[getAllExercises]",[988,990],"[getExercises]"]